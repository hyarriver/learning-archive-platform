# AI内容自动识别功能说明

## 功能概述

已修改采集规则，系统现在可以**自动识别并标注AI相关的内容**。

## 主要修改

### 1. 增强标签提取器 (`backend/app/converter/tag_extractor.py`)

#### 新增AI关键词库
系统内置了AI相关关键词库，包括：
- **基础术语**: AI、人工智能、机器学习、深度学习、神经网络
- **热门技术**: ChatGPT、GPT、LLM、大模型、Transformer、BERT
- **应用领域**: 自然语言处理(NLP)、计算机视觉(CV)、强化学习
- **技术概念**: 生成对抗网络(GAN)、迁移学习、注意力机制、多模态

#### 自动AI标签识别
- **智能检测**: 系统会自动检测标题和内容中是否包含AI相关关键词
- **自动标注**: 检测到AI相关内容时，会自动添加 `AI` 和 `人工智能` 标签
- **标签优先级**: AI相关标签会被优先保留在标签列表中

### 2. 工作原理

```
采集流程:
1. 爬取网页/视频内容
2. 转换为Markdown格式
3. 【新增】检测是否包含AI关键词
   ├─ 如果包含 → 自动添加 "AI" 和 "人工智能" 标签
   └─ 如果不包含 → 正常提取其他标签
4. 保存文件并记录标签
```

### 3. 关键词匹配规则

- **不区分大小写**: 支持 `AI`、`ai`、`Ai` 等多种形式
- **完整单词匹配**: 使用单词边界，避免误匹配（如 `said` 不会匹配到 `AI`）
- **中英文混合**: 同时支持中文和英文关键词识别

## 使用效果

### 采集前
- 需要手动查看每个文件判断是否为AI相关内容
- 无法快速筛选AI相关文件

### 采集后（已启用）
- ✅ **自动识别**: 采集时自动检测AI内容
- ✅ **自动标注**: 自动添加AI标签
- ✅ **快速筛选**: 可通过标签快速查找AI相关文件
- ✅ **搜索优化**: 通过 `tag=AI` 参数筛选AI文件

## API使用示例

### 1. 查看所有AI相关文件

```bash
GET /api/files?tag=AI
```

### 2. 搜索AI相关内容

```bash
GET /api/files?search=机器学习
```

### 3. 查看采集源配置

```bash
GET /api/collection/sources
```

## 文件查找脚本

已创建专用脚本，可查找所有AI相关文件并输出文本：

```bash
cd backend
python scripts/search_ai_files.py
```

脚本功能：
- 搜索数据库中所有包含AI关键词的文件
- 根据标题和标签筛选
- 检查文件内容是否包含足够的AI相关信息（至少3次关键词）
- 输出所有匹配文件的完整文本内容

## 注意事项

1. **关键词库可扩展**: 如需添加更多AI关键词，编辑 `backend/app/converter/tag_extractor.py` 中的 `ai_keywords` 集合

2. **已采集文件**: 
   - 对于**已经采集的文件**，不会自动更新标签
   - 如需更新，需要重新采集或手动更新标签

3. **新采集文件**: 
   - 所有**新采集的文件**会自动应用AI识别规则
   - 采集时会自动检测并添加AI标签

## 扩展建议

### 可选功能扩展

1. **标签自动更新**: 为已存在的文件批量更新标签
2. **自定义关键词库**: 通过配置文件或API管理关键词库
3. **AI分类**: 进一步细分AI标签（如 `机器学习`、`深度学习`、`NLP`等）
4. **采集源配置**: 在采集源配置中添加关键词过滤规则

---

**最后更新**: 2024年
